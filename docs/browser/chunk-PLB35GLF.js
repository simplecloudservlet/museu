var q=Object.create;var b=Object.defineProperty,J=Object.defineProperties,K=Object.getOwnPropertyDescriptor,Q=Object.getOwnPropertyDescriptors,Y=Object.getOwnPropertyNames,M=Object.getOwnPropertySymbols,X=Object.getPrototypeOf,T=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var l=(t,r)=>(r=Symbol[t])?r:Symbol.for("Symbol."+t),ee=t=>{throw TypeError(t)};var U=(t,r,e)=>r in t?b(t,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[r]=e,E=(t,r)=>{for(var e in r||={})T.call(r,e)&&U(t,e,r[e]);if(M)for(var e of M(r))F.call(r,e)&&U(t,e,r[e]);return t},se=(t,r)=>J(t,Q(r));var ie=(t,r)=>{var e={};for(var s in t)T.call(t,s)&&r.indexOf(s)<0&&(e[s]=t[s]);if(t!=null&&M)for(var s of M(t))r.indexOf(s)<0&&F.call(t,s)&&(e[s]=t[s]);return e};var c=(t,r)=>()=>(t&&(r=t(t=0)),r);var me=(t,r)=>()=>(r||t((r={exports:{}}).exports,r),r.exports),ne=(t,r)=>{for(var e in r)b(t,e,{get:r[e],enumerable:!0})},R=(t,r,e,s)=>{if(r&&typeof r=="object"||typeof r=="function")for(let i of Y(r))!T.call(t,i)&&i!==e&&b(t,i,{get:()=>r[i],enumerable:!(s=K(r,i))||s.enumerable});return t};var oe=(t,r,e)=>(e=t!=null?q(X(t)):{},R(r||!t||!t.__esModule?b(e,"default",{value:t,enumerable:!0}):e,t)),ae=t=>R(b({},"__esModule",{value:!0}),t);var he=(t,r,e)=>new Promise((s,i)=>{var m=a=>{try{o(e.next(a))}catch(f){i(f)}},n=a=>{try{o(e.throw(a))}catch(f){i(f)}},o=a=>a.done?s(a.value):Promise.resolve(a.value).then(m,n);o((e=e.apply(t,r)).next())}),P=function(t,r){this[0]=t,this[1]=r},ce=(t,r,e)=>{var s=(n,o,a,f)=>{try{var L=e[n](o),B=(o=L.value)instanceof P,Z=L.done;Promise.resolve(B?o[0]:o).then(S=>B?s(n==="return"?n:"next",o[1]?{done:S.done,value:S.value}:S,a,f):a({value:S,done:Z})).catch(S=>s("throw",S,a,f))}catch(S){f(S)}},i=n=>m[n]=o=>new Promise((a,f)=>s(n,o,a,f)),m={};return e=e.apply(t,r),m[l("asyncIterator")]=()=>m,i("next"),i("throw"),i("return"),m},ue=t=>{var r=t[l("asyncIterator")],e=!1,s,i={};return r==null?(r=t[l("iterator")](),s=m=>i[m]=n=>r[m](n)):(r=r.call(t),s=m=>i[m]=n=>{if(e){if(e=!1,m==="throw")throw n;return n}return e=!0,{done:!1,value:new P(new Promise(o=>{var a=r[m](n);a instanceof Object||ee("Object expected"),o(a)}),1)}}),i[l("iterator")]=()=>i,s("next"),"throw"in r?s("throw"):i.throw=m=>{throw m},"return"in r&&s("return"),i},fe=(t,r,e)=>(r=t[l("asyncIterator")])?r.call(t):(t=t[l("iterator")](),r={},e=(s,i)=>(i=t[s])&&(r[s]=m=>new Promise((n,o,a)=>(m=i.call(t,m),a=m.done,Promise.resolve(m.value).then(f=>n({value:f,done:a}),o)))),e("next"),e("return"),r);var C,d=c(()=>{"use strict";C=t=>new TextEncoder().encode(t)});var be,v=c(()=>{"use strict";d();be=t=>typeof t=="string"?C(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)});var ge,j=c(()=>{"use strict";ge=t=>{if(typeof t=="string")return t;if(typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(t)}});var te=c(()=>{"use strict";d();v();j()});var h,x=c(()=>{"use strict";h={BLOB:21,STREAMING_BLOB:42,BOOLEAN:2,STRING:0,NUMERIC:1,BIG_INTEGER:17,BIG_DECIMAL:19,DOCUMENT:15,TIMESTAMP_DEFAULT:4,TIMESTAMP_DATE_TIME:5,TIMESTAMP_HTTP_DATE:6,TIMESTAMP_EPOCH_SECONDS:7,LIST_MODIFIER:64,MAP_MODIFIER:128}});var y,I=c(()=>{"use strict";y=t=>typeof t=="function"?t():t});var k=c(()=>{"use strict"});var g,w=c(()=>{"use strict";g=class t{constructor(r,e=new Map,s=new Map){this.namespace=r,this.schemas=e,this.exceptions=s}static for(r){return t.registries.has(r)||t.registries.set(r,new t(r)),t.registries.get(r)}register(r,e){let s=this.normalizeShapeId(r);this.schemas.set(s,e)}getSchema(r){let e=this.normalizeShapeId(r);if(!this.schemas.has(e))throw new Error(`@smithy/core/schema - schema not found for ${e}`);return this.schemas.get(e)}registerError(r,e){this.exceptions.set(r,e)}getErrorCtor(r){return this.exceptions.get(r)}getBaseException(){for(let[r,e]of this.schemas.entries())if(r.startsWith("smithy.ts.sdk.synthetic.")&&r.endsWith("ServiceException"))return e}find(r){return[...this.schemas.values()].find(r)}clear(){this.schemas.clear(),this.exceptions.clear()}normalizeShapeId(r){return r.includes("#")?r:this.namespace+"#"+r}getNamespace(r){return this.normalizeShapeId(r).split("#")[0]}};g.registries=new Map});var u,p=c(()=>{"use strict";w();u=class{static assign(r,e){let s=Object.assign(r,e);return g.for(s.namespace).register(s.name,s),s}static[Symbol.hasInstance](r){let e=this.prototype.isPrototypeOf(r);return!e&&typeof r=="object"&&r!==null?r.symbol===this.symbol:e}getName(){return this.namespace+"#"+this.name}}});var $,O=c(()=>{"use strict";p();$=(()=>{class t extends u{constructor(){super(...arguments),this.symbol=t.symbol}}return t.symbol=Symbol.for("@smithy/lis"),t})()});var G,A=c(()=>{"use strict";p();G=(()=>{class t extends u{constructor(){super(...arguments),this.symbol=t.symbol}}return t.symbol=Symbol.for("@smithy/map"),t})()});var _=c(()=>{"use strict"});var z,N=c(()=>{"use strict";p();z=(()=>{class t extends u{constructor(){super(...arguments),this.symbol=t.symbol}}return t.symbol=Symbol.for("@smithy/str"),t})()});var H=c(()=>{"use strict"});var V,D=c(()=>{"use strict";p();V=(()=>{class t extends u{constructor(){super(...arguments),this.symbol=t.symbol}}return t.symbol=Symbol.for("@smithy/sim"),t})()});var Ze,W=c(()=>{"use strict";I();O();A();p();x();D();N();Ze=(()=>{class t{constructor(e,s){this.ref=e,this.memberName=s,this.symbol=t.symbol;let i=[],m=e,n=e;for(this._isMemberSchema=!1;Array.isArray(m);)i.push(m[1]),m=m[0],n=y(m),this._isMemberSchema=!0;if(i.length>0){this.memberTraits={};for(let o=i.length-1;o>=0;--o){let a=i[o];Object.assign(this.memberTraits,t.translateTraits(a))}}else this.memberTraits=0;if(n instanceof t){let o=this.memberTraits;Object.assign(this,n),this.memberTraits=Object.assign({},o,n.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.memberName=s??n.memberName;return}if(this.schema=y(n),this.schema&&typeof this.schema=="object"?this.traits=this.schema?.traits??{}:this.traits=0,this.name=(this.schema instanceof u?this.schema.getName?.():void 0)??this.memberName??this.getSchemaName(),this._isMemberSchema&&!s)throw new Error(`@smithy/core/schema - NormalizedSchema member init ${this.getName(!0)} missing member name.`)}static[Symbol.hasInstance](e){return u[Symbol.hasInstance].bind(this)(e)}static of(e){if(e instanceof t)return e;if(Array.isArray(e)){let[s,i]=e;if(s instanceof t)return Object.assign(s.getMergedTraits(),t.translateTraits(i)),s;throw new Error(`@smithy/core/schema - may not init unwrapped member schema=${JSON.stringify(e,null,2)}.`)}return new t(e)}static translateTraits(e){if(typeof e=="object")return e;e=e|0;let s={},i=0;for(let m of["httpLabel","idempotent","idempotencyToken","sensitive","httpPayload","httpResponseCode","httpQueryParams"])(e>>i++&1)===1&&(s[m]=1);return s}getSchema(){return this.schema instanceof t?(Object.assign(this,{schema:this.schema.getSchema()}),this.schema):this.schema instanceof V?y(this.schema.schemaRef):y(this.schema)}getName(e=!1){return!e&&this.name&&this.name.includes("#")?this.name.split("#")[1]:this.name||void 0}getMemberName(){if(!this.isMemberSchema())throw new Error(`@smithy/core/schema - non-member schema: ${this.getName(!0)}`);return this.memberName}isMemberSchema(){return this._isMemberSchema}isUnitSchema(){return this.getSchema()==="unit"}isListSchema(){let e=this.getSchema();return typeof e=="number"?e>=h.LIST_MODIFIER&&e<h.MAP_MODIFIER:e instanceof $}isMapSchema(){let e=this.getSchema();return typeof e=="number"?e>=h.MAP_MODIFIER&&e<=255:e instanceof G}isStructSchema(){let e=this.getSchema();return e!==null&&typeof e=="object"&&"members"in e||e instanceof z}isBlobSchema(){return this.getSchema()===h.BLOB||this.getSchema()===h.STREAMING_BLOB}isTimestampSchema(){let e=this.getSchema();return typeof e=="number"&&e>=h.TIMESTAMP_DEFAULT&&e<=h.TIMESTAMP_EPOCH_SECONDS}isDocumentSchema(){return this.getSchema()===h.DOCUMENT}isStringSchema(){return this.getSchema()===h.STRING}isBooleanSchema(){return this.getSchema()===h.BOOLEAN}isNumericSchema(){return this.getSchema()===h.NUMERIC}isBigIntegerSchema(){return this.getSchema()===h.BIG_INTEGER}isBigDecimalSchema(){return this.getSchema()===h.BIG_DECIMAL}isStreaming(){return this.getMergedTraits().streaming?!0:this.getSchema()===h.STREAMING_BLOB}isIdempotencyToken(){if(this.normalizedTraits)return!!this.normalizedTraits.idempotencyToken;for(let e of[this.traits,this.memberTraits])if(typeof e=="number"){if((e&4)===4)return!0}else if(typeof e=="object"&&e.idempotencyToken)return!0;return!1}getMergedTraits(){return this.normalizedTraits??(this.normalizedTraits=E(E({},this.getOwnTraits()),this.getMemberTraits()))}getMemberTraits(){return t.translateTraits(this.memberTraits)}getOwnTraits(){return t.translateTraits(this.traits)}getKeySchema(){if(this.isDocumentSchema())return this.memberFrom([h.DOCUMENT,0],"key");if(!this.isMapSchema())throw new Error(`@smithy/core/schema - cannot get key for non-map: ${this.getName(!0)}`);let e=this.getSchema();return typeof e=="number"?this.memberFrom([63&e,0],"key"):this.memberFrom([e.keySchema,0],"key")}getValueSchema(){let e=this.getSchema();if(typeof e=="number"){if(this.isMapSchema())return this.memberFrom([63&e,0],"value");if(this.isListSchema())return this.memberFrom([63&e,0],"member")}if(e&&typeof e=="object"){if(this.isStructSchema())throw new Error(`may not getValueSchema() on structure ${this.getName(!0)}`);let s=e;if("valueSchema"in s){if(this.isMapSchema())return this.memberFrom([s.valueSchema,0],"value");if(this.isListSchema())return this.memberFrom([s.valueSchema,0],"member")}}if(this.isDocumentSchema())return this.memberFrom([h.DOCUMENT,0],"value");throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no value member.`)}hasMemberSchema(e){return this.isStructSchema()?this.getSchema().memberNames.includes(e):!1}getMemberSchema(e){if(this.isStructSchema()){let s=this.getSchema();if(!s.memberNames.includes(e))throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no member=${e}.`);let i=s.memberNames.indexOf(e),m=s.memberList[i];return this.memberFrom(Array.isArray(m)?m:[m,0],e)}if(this.isDocumentSchema())return this.memberFrom([h.DOCUMENT,0],e);throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no members.`)}getMemberSchemas(){let e={};try{for(let[s,i]of this.structIterator())e[s]=i}catch{}return e}getEventStreamMember(){if(this.isStructSchema()){for(let[e,s]of this.structIterator())if(s.isStreaming()&&s.isStructSchema())return e}return""}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot iterate non-struct schema.");let e=this.getSchema();for(let s=0;s<e.memberNames.length;++s)yield[e.memberNames[s],this.memberFrom([e.memberList[s],0],e.memberNames[s])]}memberFrom(e,s){return e instanceof t?Object.assign(e,{memberName:s,_isMemberSchema:!0}):new t(e,s)}getSchemaName(){let e=this.getSchema();if(typeof e=="number"){let s=63&e,i=192&e,m=Object.entries(h).find(([,n])=>n===s)?.[0]??"Unknown";switch(i){case h.MAP_MODIFIER:return`${m}Map`;case h.LIST_MODIFIER:return`${m}List`;case 0:return m}}return"Unknown"}}return t.symbol=Symbol.for("@smithy/nor"),t})()});var re=c(()=>{"use strict";I();k();O();A();_();H();W();p();D();N();x();w()});export{E as a,se as b,ie as c,c as d,me as e,ne as f,oe as g,ae as h,he as i,P as j,ce as k,ue as l,fe as m,C as n,be as o,ge as p,te as q,h as r,Ze as s,re as t};
